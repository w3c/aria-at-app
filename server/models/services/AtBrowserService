const ModelService = require('./ModelService.js');
const { AtBrowsers } = require('../');
const { AT_BROWSERS_ATTRIBUTES } = require('./helpers');

const updateAtBrowser = async ({
  atId,
  browserId,
  updateParams = {},
  atBrowsersAttributes = AT_BROWSERS_ATTRIBUTES,
  transaction
}) => {
  await ModelService.update(AtBrowsers, {
    where: { atId, browserId },
    values: updateParams,
    transaction
  });

  return ModelService.getByQuery(AtBrowsers, {
    where: { atId, browserId },
    attributes: atBrowsersAttributes,
    transaction
  });
};

module.exports = { updateAtBrowser };
